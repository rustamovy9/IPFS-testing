# IPFS File Storage in C#

–≠—Ç–æ—Ç –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏ —Å–∫–∞—á–∏–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ IPFS —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º C# –∏ `HttpClient`.

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç —Å–µ—Ä–≤–∏—Å `IpfsService`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –ó–∞–≥—Ä—É–∂–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã C# –≤ IPFS –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
- –ü–æ–ª—É—á–∞—Ç—å CID (Content Identifier) –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- –°–∫–∞—á–∏–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ IPFS –ø–æ CID —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–ª—é–∑–æ–≤

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- .NET 8
- C#
- IPFS
- HttpClient

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

IPFSTest/ ‚îÇ‚îÄ‚îÄ Interface/ ‚îÇ ‚îú‚îÄ‚îÄ IIpfsService.cs # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å IPFS —Å–µ—Ä–≤–∏—Å–∞ ‚îÇ‚îÄ‚îÄ Model/ ‚îÇ ‚îú‚îÄ‚îÄ Person.cs # –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö ‚îÇ‚îÄ‚îÄ Services/ ‚îÇ ‚îú‚îÄ‚îÄ IpfsService.cs # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ ‚îÇ‚îÄ‚îÄ Program.cs # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚îÇ‚îÄ‚îÄ Const.cs # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å IPFS



## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ IPFS-–¥–µ–º–æ–Ω–∞

–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω IPFS –∏ –∑–∞–ø—É—â–µ–Ω –¥–µ–º–æ–Ω:

```bash
ipfs daemon

2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω .NET 8 –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
dotnet restore

3. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
dotnet run


–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –≤ IPFS
–ú–µ—Ç–æ–¥ UploadFileAsync<T> —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –æ–±—ä–µ–∫—Ç –≤ JSON, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –µ–≥–æ –≤ IPFS –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç CID —Ñ–∞–π–ª–∞.

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

csharp
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
IIpfsService ipfsService = new IpfsService();
List<Person> persons = new()
{
    new Person { Id = 1, FullName = "Rustamov Yusuf", Age = 15, Gender = "Male" },
    new Person { Id = 2, FullName = "Rustam Yusufov", Age = 23, Gender = "Male" }
};
string? cid = await ipfsService.UploadFileAsync(persons, "person.json");
Console.WriteLine($"–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω –≤ IPFS. CID: {cid}");


–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–∑ IPFS
–ú–µ—Ç–æ–¥ DownloadFileAsync –ø–æ–ª—É—á–∞–µ—Ç —Ñ–∞–π–ª –ø–æ –µ–≥–æ CID –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ.

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

csharp
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
await ipfsService.DownloadFileAsync(cid!, "C:\\Users\\VICTUS\\OneDrive\\Desktop\\PersonData.json");
–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è
–û—à–∏–±–∫–∞: Not Found
–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:

–ù–µ–≤–µ—Ä–Ω—ã–π CID –∏–ª–∏ —Ñ–∞–π–ª –Ω–µ —Ä–µ–ø–ª–∏—Ü–∏—Ä–æ–≤–∞–Ω –≤ —Å–µ—Ç–∏.
–†–µ—à–µ–Ω–∏–µ:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ —Ñ–∞–π–ª –≤ IPFS:
bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
ipfs cat <CID>
–û—à–∏–±–∫–∞: GatewayTimeout
–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:

–ú–µ–¥–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —à–ª—é–∑–∞–º IPFS.
–†–µ—à–µ–Ω–∏–µ:

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —à–ª—é–∑ –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π —É–∑–µ–ª.
```
–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏‚õìÔ∏è‚Äçüí•
[https://richardschneider.github.io/net-ipfs-http-client/articles/intro.html]
